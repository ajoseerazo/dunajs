<html>
  <head>
    <script src="./duna.js"></script>
  </head>

  <body>
    <div id="button">
      <button @click="toggle" @when="{ loggedIn === true }">Log out</button>

      <button @click="toggle" @when="{ loggedIn === false }">Log in</button>

      <div @when="{ loggedIn === true }">
        <span>Bienvenido <span>{ name } { count }</span></span>
      </div>
    </div>

    <script>
      const button = new Duna({
        state: {
          loggedIn: false,
          name: "Amilcar Jose",
          count: 0,
        },
        events: {
          toggle() {
            this.state.loggedIn = !this.state.loggedIn;
            this.state.count += 1;

            if (this.state.count > 3) {
              this.state.name = "Juan Perez";
              this.state.count = 0;
            } else {
              this.state.name = "Amilcar Erazo";
            }
          },
        },
      });

      button.mount("#button");
    </script>
  </body>
</html>
